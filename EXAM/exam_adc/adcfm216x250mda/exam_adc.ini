// Файл параметров инициализации для субмодуля FM216x250MDA,
// установленного на базовые модули FMC106P/FMC105

[Option]
AdcServiceName=ADCFM216X250M		; Имя службы АЦП (не изменять)


BusMasterEnable=1	//Режим для отладки: 1 - всегда (0 - только для отладки)

Cycle=1			//Циклический режим ввода в буфер: 0 - однократный, 1 - циклический (для завершения - ESC)
				// если число циклов > 1, то сбор осуществляется заданное число раз и записывается в один файл (IsWriteFile=1 или 2)
DaqIntoMemory= 0	// Сбор данных в память: 0-сразу в ПЭВМ, 1-сбор в память (AMBPCD/AMBPEX5), 2-"память как FIFO" (только AMBPEX5)
IsWriteFile=1		//Режим формирования файла data.bin
				// 0 - ничего не пишется в файл
				// 1 - все что собирается пишется в файл как есть + параметры для ISVI
				// 2 - все что собирается пишется в файл как есть
SamplesPerChannel= 16384	// Число собираемых отсчётов на канал при сборе не в память модуля,
					// а при сборе в память модуля - размер промежуточного буфера в памяти ПК
IsSystemMemory=1	//Тип используемой памяти для составного буфера
				// 0-пользовательская память (доступен максимальный размер)
				// 1-системная память (доступна максимальная скорость)
//MemSamplesPerChan= 32768		// Число собираемых отсчётов на канал для сбора в память (only for AMBPCD/AMBPEX5)

AdcDrqFlag=2		// Флаг FIFO для формирования запроса ПДП для АЦП: 0-почти пустое, 1-пустое, 2-половина FIFO
MemDrqFlag=0		// Флаг FIFO для формирования запроса ПДП для памяти : 0-почти пустое, 1-пустое, 2-половина FIFO



[device0_adcfm216x250m0]


// Тактирование

ClockSource= 0x1		        ; Тактовый генератор: 0-выкл., 1-внутренний, 0x81-внешний
ExternalClockValue= 250000000	        ; Частота внешнего тактового генератора (Гц)
SubClockValue= 250000000		; Частота генератора Si571 на субмодуле для режима 2 (Гц)
SamplingRate= 250000000		        ; Частота дискретизации (Гц). (от 10 до 250 МГц)


// Настройка АЦП

ChannelMask= 0x3		        ; Маска каналов АЦП: 1 - к0, 2 - к1, 3 - к0-1




// Настройка АЦП0

Bias0= 0		                ; Смещение 0 АЦП0: -100..100
InputRange0= 2.0				; Опорное напряжение АЦП0: 2.0В - 2.5В
BufCur1_Adc0= 90	                ; Ток входного буфера 1: -100, -90..0, 10, 20..520, 530
BufCur2_Adc0= 0                         ; Ток входного буфера 2: -100, -90..0, 10, 20..520, 530

// Настройка АЦП1

Bias1= 0		                ; Смещение 0 АЦП1: -100..100
InputRange1= 2.0			; Опорное напряжение АЦП1: 2.0В - 2.5В
BufCur1_Adc1= 90			; Ток входного буфера 1: -100, -90..0, 10, 20..520, 530
BufCur2_Adc1= 0			        ; Ток входного буфера 2: -100, -90..0, 10, 20..520, 530


// Управление стартом

MasterMode=1		                ; 1 - всегда




StartBaseSource=0		        ; Базовый источник старта: 0 - программный, 7 - от субмодуля, 10 - от DDS
StartBaseInverting=0		        ; Инверсия базового источника старта: 0-нет, 1-есть
StartMode=0			        ; Тип старта: 1 – тригерный, 0 – потенциальный
StopSource=0			        ; Базовый источник останова при тригерном старте
StopInverting=0			        ; Инверсия базового источника останова: 0-нет, 1-есть

IsPreTriggerMode=0
PreTriggerSamples=128
